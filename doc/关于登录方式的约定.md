# 关于登录方式的约定

### 站点页面组的权限控制
- 公开页面组——不需要的登录就可以访问
- 私有页面组——用户必须登录才能访问
- 管理员页面组——管理员用户必须二次登录后才能访问

> 站点模式时，用户登录成功，但无权访问站点的情况如何处理？？

> 管理员页面组后续处理？

> 私有页面组、管理员页面组，部分重要的api需要独立密码授权


### 登录场景

- 场景1：访问站点，自行登录  
用户首先访问的是公开页面，有以下两种情况：
> 需要设置登录入口模式
    - 主题上统一提供登录，点击登录后 
    > 需设置二级登录入口模式 
        - 跳转到系统登录页（登录模式1）
        - 弹出窗口登录（登录模式2）
        > 需配置登录Widget
    - 页面上有登录Widget，直接登录（登录模式3）
    > 页面编辑时，务必放置登录Widget

- 场景2：访问站点受保护页面组，强制要求登录
    - 跳转到系统登录页（登录模式1，简化过程）  
    登录后，需要跳转回之前访问的页面
    > 需要提供原页面路径
    - 跳转到公开页，进入第一种场景1，登录模式3
    - 弹出窗口登录（登录模式2，简化过程）
- 场景3：提交数据时，访问受保护的API，强制要求登录（强制模式2）
    - 弹出窗口登录
    > 需要配置登录Widget
    - 弹出二次鉴权窗口
    > 需要配置二次鉴权Widget
        - 单次有效
        - 30分钟内有效
        - 本次会话有效

### 登录模式设置

- 系统页登录模式（模式1）
> loginType = 'system'  
  登录页地址: **/login**
- 弹窗登录模式（模式2）
> loginType = 'dialog'  
  登录Widget：需通过**loginWidget**参数设置
- 公开页登录模式（模式3）
> loginType = 'public'  
  登录页地址：默认公开页
- 禁用登录验证
> loginType = 'none'
